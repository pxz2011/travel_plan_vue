{"version":3,"file":"js/158.04525156.js","mappings":"yPACOA,MAAM,a,GACJA,MAAM,iB,UACTC,EAAAA,EAAAA,GAAsC,OAAjCD,MAAM,UAAS,gBAAY,K,GAC3BA,MAAM,gB,wEAHfE,EAAAA,EAAAA,IAiBM,MAjBNC,EAiBM,EAhBJF,EAAAA,EAAAA,GAeM,MAfNG,EAeM,CAdJC,GACAJ,EAAAA,EAAAA,GAYM,MAZNK,EAYM,WAXJL,EAAAA,EAAAA,GACoC,S,0CADfM,YAAWC,GAAER,MAAM,aAAaS,KAAK,WAAWC,YAAY,MAAMC,KAAK,WACpFC,QAAKC,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,KAAA,IAAAC,IAAA,KAAaC,UAAQ,KAARA,YAAQD,IAAA,a,sBADbR,gBAAW,SAEhCN,EAAAA,EAAAA,GACoC,S,0CADfgB,YAAWT,GAAER,MAAM,aAAaS,KAAK,WAAWC,YAAY,MAAMC,KAAK,WACpFC,QAAKC,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,KAAA,IAAAC,IAAA,KAAaC,UAAQ,KAARA,YAAQD,IAAA,a,sBADbE,gBAAW,SAEhChB,EAAAA,EAAAA,GACoC,S,0CADfiB,SAAQV,GAAER,MAAM,aAAaS,KAAK,WAAWC,YAAY,MAAMC,KAAK,OACjFC,QAAKC,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,KAAA,IAAAC,IAAA,KAAaC,UAAQ,KAARA,YAAQD,IAAA,a,sBADbG,aAAQ,SAE7BjB,EAAAA,EAAAA,GACoC,S,0CADfkB,MAAKX,GAAER,MAAM,aAAaS,KAAK,QAAQC,YAAY,MAAMC,KAAK,OAC3EC,QAAKC,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,KAAA,IAAAC,IAAA,KAAaC,UAAQ,KAARA,YAAQD,IAAA,a,sBADbI,UAGrBC,EAAAA,EAAAA,IAA+DC,EAAA,CAApDV,KAAK,UAAWW,QAAK,KAAON,U,mBAAU,IAAE,UAAF,S,qBACjDI,EAAAA,EAAAA,IAAkEC,EAAA,CAAvDV,KAAK,SAAUW,QAAK,KAAOC,Y,mBAAY,IAAI,UAAJ,W,6EAW1D,GACEd,KAAM,OACNe,KAAM,WACJ,MAAO,CACLC,SAAU,GACVlB,YAAa,GACbU,YAAa,GACbE,MAAO,GACPD,SAAU,GAEd,EACAQ,QAAS,CACPH,aACEI,EAAAA,EAAaC,QACT,oBACA,UACA,CACEC,kBAAmB,KACnBC,iBAAkB,OAClBnB,KAAM,YAGPoB,MAAK,MACJC,EAAAA,EAAAA,GAAM,CACJC,OAAQ,SACRC,IAAK,iCACLC,QAAS,CACP,MAASC,aAAaC,QAAQ,YAE/BN,MAAKO,IACgB,IAAlBA,EAAId,KAAKe,MACXC,EAAAA,GAAUC,QAAQ,WAClBL,aAAaM,WAAW,SACxBC,EAAAA,EAAOC,KAAK,YAEZJ,EAAAA,EAAAA,IAAU,CACR7B,KAAM,UACNkC,QAAS,WAEb,GACA,IAEHC,OAAM,MACLN,EAAAA,EAAAA,IAAU,CACR7B,KAAM,OACNkC,QAAS,SACT,GAEV,EACA7B,WACE,IAAI+B,EAAO,CACTtB,SAAUuB,KAAKvB,SACfwB,SAAUD,KAAK/B,YACfE,MAAO6B,KAAK7B,MACZD,SAAU8B,KAAK9B,UAEjBgC,QAAQC,IAAIJ,IACZf,EAAAA,EAAAA,GAAM,CACJC,OAAQ,OACRC,IAAK,yDAA2Dc,KAAKzC,YACrE4B,QAAS,CACPiB,MAAOhB,aAAaC,QAAQ,UAE9Bb,KAAMuB,IACLhB,MAAKO,IACgB,IAAlBA,EAAId,KAAKe,MACXC,EAAAA,GAAUC,QAAQ,aAClBL,aAAaiB,QAAQ,QAASf,EAAId,KAAKA,MACvCmB,EAAAA,EAAOC,KAAK,MAEZJ,EAAAA,GAAUc,MAAM,YAClB,GAEJ,I,QC5FJ,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://travel_plan/./src/views/user.vue","webpack://travel_plan/./src/views/user.vue?5039"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"login-wrapper\">\r\n      <div class=\"header\">修改个人信息(按需修改)</div>\r\n      <div class=\"form-wrapper\">\r\n        <input v-model=\"this.oldPassword\" class=\"input-item\" name=\"password\" placeholder=\"老密码\" type=\"password\"\r\n               @keyup.enter=\"this.doSubmit\">\r\n        <input v-model=\"this.newPassword\" class=\"input-item\" name=\"password\" placeholder=\"新密码\" type=\"password\"\r\n               @keyup.enter=\"this.doSubmit\">\r\n        <input v-model=\"this.phoneNum\" class=\"input-item\" name=\"phoneNum\" placeholder=\"手机号\" type=\"text\"\r\n               @keyup.enter=\"this.doSubmit\">\r\n        <input v-model=\"this.email\" class=\"input-item\" name=\"email\" placeholder=\"邮箱号\" type=\"text\"\r\n               @keyup.enter=\"this.doSubmit\">\r\n\r\n        <el-button type=\"warning\" @click=\"this.doSubmit\">修改</el-button>\r\n        <el-button type=\"danger\" @click=\"this.doWriteOff\">注销账户</el-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport {ElMessage, ElMessageBox} from \"element-plus\";\r\nimport router from \"@/router\";\r\n\r\nexport default {\r\n  name: \"user\",\r\n  data: function () {\r\n    return {\r\n      userName: \"\",\r\n      oldPassword: \"\",\r\n      newPassword: \"\",\r\n      email: \"\",\r\n      phoneNum: \"\",\r\n    }\r\n  },\r\n  methods: {\r\n    doWriteOff() {\r\n      ElMessageBox.confirm(\r\n          '该操作会永久删除该账户,是否继续?',\r\n          'Warning',\r\n          {\r\n            confirmButtonText: 'OK',\r\n            cancelButtonText: '算了吧~',\r\n            type: 'warning',\r\n          }\r\n      )\r\n          .then(() => {\r\n            axios({\r\n              method: \"delete\",\r\n              url: \"http://localhost:8080/user/del\",\r\n              headers: {\r\n                \"token\": localStorage.getItem('token')\r\n              }\r\n            }).then(res => {\r\n              if (res.data.code === 1) {\r\n                ElMessage.success(\"删除用户成功!\")\r\n                localStorage.removeItem(\"token\")\r\n                router.push(\"/login\")\r\n              } else {\r\n                ElMessage({\r\n                  type: \"success\",\r\n                  message: \"删除用户失败!\"\r\n                })\r\n              }\r\n            })\r\n          })\r\n          .catch(() => {\r\n            ElMessage({\r\n              type: 'info',\r\n              message: '取消删除!',\r\n            })\r\n          })\r\n    },\r\n    doSubmit() {\r\n      let user = {\r\n        userName: this.userName,\r\n        password: this.newPassword,\r\n        email: this.email,\r\n        phoneNum: this.phoneNum\r\n      }\r\n      console.log(user)\r\n      axios({\r\n        method: \"post\",\r\n        url: \"http://localhost:8080/user/modifyUserInfo?oldPassword=\" + this.oldPassword,\r\n        headers: {\r\n          token: localStorage.getItem(\"token\")\r\n        },\r\n        data: user,\r\n      }).then(res => {\r\n        if (res.data.code === 1) {\r\n          ElMessage.success(\"修改用户信息成功!\");\r\n          localStorage.setItem(\"token\", res.data.data)\r\n          router.push(\"/\")\r\n        } else {\r\n          ElMessage.error(\"修改用户信息失败!\")\r\n        }\r\n      })\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nhtml {\r\n  height: 100%;\r\n}\r\n\r\nbody {\r\n  height: 100%;\r\n}\r\n\r\n.container {\r\n  /* margin-top: 5%; */\r\n  height: 980px;\r\n  width: 100%;\r\n  background-image: linear-gradient(to right, #fbc2eb, #a6c1ee);\r\n}\r\n\r\n.login-wrapper {\r\n  background-color: #fff;\r\n  width: 358px;\r\n  height: 588px;\r\n  border-radius: 15px;\r\n  padding: 0 50px;\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n}\r\n\r\n.header {\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n  text-align: center;\r\n  line-height: 200px;\r\n}\r\n\r\n.input-item {\r\n  display: block;\r\n  width: 100%;\r\n  margin-bottom: 20px;\r\n  border: 0;\r\n  padding: 10px;\r\n  border-bottom: 1px solid rgb(128, 125, 125);\r\n  font-size: 15px;\r\n  outline: none;\r\n}\r\n\r\n.input-item::placeholder {\r\n  text-transform: uppercase;\r\n}\r\n\r\n.btn {\r\n  text-align: center;\r\n  padding: 10px;\r\n  width: 100%;\r\n  background-image: linear-gradient(to right, #a6c1ee, #fbc2eb);\r\n  color: #fff;\r\n  margin: 0 auto;\r\n}\r\n\r\n.msg {\r\n  text-align: center;\r\n  line-height: 88px;\r\n}\r\n\r\na {\r\n  text-decoration-line: none;\r\n  color: #abc1ee;\r\n}\r\n\r\n</style>","import { render } from \"./user.vue?vue&type=template&id=41bebb87&scoped=true\"\nimport script from \"./user.vue?vue&type=script&lang=js\"\nexport * from \"./user.vue?vue&type=script&lang=js\"\n\nimport \"./user.vue?vue&type=style&index=0&id=41bebb87&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-41bebb87\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","oldPassword","$event","name","placeholder","type","onKeyup","_cache","_withKeys","args","doSubmit","newPassword","phoneNum","email","_createVNode","_component_el_button","onClick","doWriteOff","data","userName","methods","ElMessageBox","confirm","confirmButtonText","cancelButtonText","then","axios","method","url","headers","localStorage","getItem","res","code","ElMessage","success","removeItem","router","push","message","catch","user","this","password","console","log","token","setItem","error","__exports__","render"],"sourceRoot":""}